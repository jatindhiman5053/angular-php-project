<div class="container">
    <div class="all_cards">
        <div>
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th scope="col">id</th>
                        <th scope="col">First Name</th>
                        <th scope="col">Email</th>
                        <th scope="col">Website</th>
                        <th scope="col">Gender</th>
                        <th scope="col">Comment</th>
                        <th scope="col">Edit</th>
                        <th scope="col">Delete</th>
                    </tr>
                </thead>
                <tbody id="load-table-data">
                    <ng-container class="card" *ngFor="let user of users,let Sno = index">
                        <tr>
                            <th scope="row"> {{Sno + 1}} </th>
                            <td>{{user.fname}}</td>
                            <td>{{user.email}}</td>
                            <td>{{user.website}}</td>
                            <td>{{user.gender}}</td>
                            <td>{{user.comment}}</td>

                            <td>
                                <button (click)="showDialog(); fetch_single_user(user.emp_id)"
                                    class="btn btn-success">Edit</button>
                                <p-dialog header="Header" [(visible)]="visible" [modal]="true"
                                    [style]="{ width: '50rem' }" [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }">

                                    <ng-template pTemplate="header">
                                        <div class="inline-flex align-items-center justify-content-center gap-2">
                                            <span class="font-bold white-space-nowrap">Edit User</span>
                                        </div>
                                    </ng-template>

                                    <form action="" method="post" id="edit_emp_Comment" #editform="ngForm"
                                        (ngSubmit)="updateuser(editform.value)">
                                        <div class="edit_form_input">

                                            <input type="text" class="form-control" id="editId" name="uid" hidden=""
                                                value="{{user.emp_id}}" ngModel>

                                            <div class="form-floating mb-3">
                                                <input type="text" class="form-control" id="editName"
                                                    placeholder="First Name" name="uname">
                                                <label for="editName">First Name</label>
                                            </div>

                                            <div class="form-floating mb-3">
                                                <input type="email" class="form-control" id="editEmail"
                                                    placeholder="name@example.com" name="uemail">
                                                <label for="editEmail">Email address</label>
                                            </div>

                                            <div class="form-floating mb-3">
                                                <input type="text" class="form-control" id="editWebsite"
                                                    placeholder="Website" name="uwebsite">
                                                <label for="editWebsite">Website</label>
                                            </div>

                                            <div>
                                                <select class="form-select mb-3 edit-gender"
                                                    aria-label="Default select example" id="editGender" name="ugender">
                                                    <option value="Male">Male</option>
                                                    <option value="Female">Female</option>
                                                    <option value="Other">Other</option>
                                                </select>
                                            </div>
                                        </div>

                                        <div class="form-floating mb-3">
                                            <textarea class="form-control" placeholder="Leave a comment here"
                                                id="editComment" style="height: 100px" name="ucomment"></textarea>
                                            <label for="editComment">Comments</label>
                                        </div>
                                    </form>

                                    <ng-template pTemplate="footer">

                                        <button (click)="visible = false" pAutoFocus [autofocus]="true"
                                            class="btn btn-secondary mx-2">Close</button>

                                        <button (click)="visible = false" pAutoFocus [autofocus]="true"
                                            class="btn btn-success" type="submit
                                            ">Save Change</button>

                                    </ng-template>

                                </p-dialog>
                            </td>

                            <td>
                                <Button class="btn btn-danger delete-btn"
                                    (click)="deleteRecord(user.emp_id)">Delete</Button>
                            </td>
                        </tr>
                    </ng-container>

                </tbody>
            </table>


        </div>
    </div>
</div>